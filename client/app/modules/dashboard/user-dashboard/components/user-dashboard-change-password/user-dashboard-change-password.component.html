<div class="col-sm-12">
  <div class="card text-center">
    <h4 class="card-title">Welcome to the change password screen</h4>
    <div class="card-block">
      <div class="col-sm-6 offset-sm-3">
        <div class="form" [formGroup]="userChangePasswordForm" (keydown)="handleDownKeyOnForm($event)">
          <div class="form-group">
            <label for="currentPassword">
              <strong>Your current password</strong>
            </label>
            <div class="input-group">
              <div class="input-group-addon input-addon-fa">
                <i class="fa fa-unlock-alt" aria-hidden="true"></i>
              </div>
              <input type="password" class="form-control" id="user-current-password" placeholder="Super Secret" formControlName="currentPassword">
              <span class="input-group-addon custom-input-addons" *ngIf="!userChangePasswordForm.controls.currentPassword.errors">
                <i class="fa fa-check-circle-o input-checkbox" aria-hidden="true"></i>
              </span>
            </div>
            <div class="alert alert-danger" role="alert" *ngIf="userChangePasswordForm.controls.currentPassword.errors && hasTheFormBeenSubmitted">
              <strong>Your password must be atleast 8 characters with one upper case letter, one lower case letter, one number, and
                one special character</strong>
            </div>
          </div>
          <div class="form-group">
            <label for="newPassword">
              <strong>Your new password</strong>
            </label>
            <div class="input-group">
              <div class="input-group-addon input-addon-fa">
                <i class="fa fa-unlock" aria-hidden="true"></i>
              </div>
              <input type="password" class="form-control" id="user-new-password" placeholder="New Super Secret" formControlName="password">
              <span class="input-group-addon custom-input-addons" *ngIf="!userChangePasswordForm.controls.password.errors">
                <i class="fa fa-check-circle-o input-checkbox" aria-hidden="true"></i>
              </span>
            </div>
            <div class="alert alert-danger" role="alert" *ngIf="userChangePasswordForm.controls.password.errors && hasTheFormBeenSubmitted">
              <strong>Your new password must be atleast 8 characters with one upper case letter, one lower case letter, one number,
                and one special character</strong>
            </div>
          </div>
          <div class="form-group">
            <label for="confirmNewPassword">
              <strong>Confirm new password</strong>
            </label>
            <div class="input-group">
              <div class="input-group-addon input-addon-fa">
                <i class="fa fa-key" aria-hidden="true"></i>
              </div>
              <input type="password" class="form-control" id="confirm-new-user-password" placeholder="Confirm New Super Secret" formControlName="confirmPassword">
              <span class="input-group-addon custom-input-addons" *ngIf="!userChangePasswordForm.controls.confirmPassword.errors">
                <i class="fa fa-check-circle-o input-checkbox" aria-hidden="true"></i>
              </span>
            </div>
            <div class="alert alert-danger" role="alert" *ngIf="userChangePasswordForm.controls.confirmPassword.errors && hasTheFormBeenSubmitted">
              <strong>Your new password and its confirmation do not match</strong>
            </div>
          </div>
          <button *ngIf="!hasSubmitButtonBeenClicked" type="button" class="btn btn-primary pull-left" (click)="toggleSubmitNewUserPassword()">Submit New Password</button>
          <i *ngIf="hasSubmitButtonBeenClicked" class="fa fa-spinner fa-pulse fa-3x fa-fw pull-left" aria-hidden="true"></i>
        </div>
      </div>
    </div>
  </div>
</div>

<app-error-modal [body]="modalBody" [title]="modalTitle"></app-error-modal>