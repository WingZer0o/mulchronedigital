<div class="col-sm-12">
  <div class="card text-center">
    <h4 class="card-title">Welcome to the change username screen</h4>
    <div class="card-block">
      <div class="card-block">
        <div class="col-sm-6 offset-sm-3">
          <div class="form" [formGroup]="userChangeUsernameForm" (keydown)="handleDownKeyOnForm($event)">
            <div class="form-group">
              <label for="currentPassword">
                <strong>Your new username</strong>
              </label>
              <div class="input-group">
                <div class="input-group-addon input-addon-fa">
                  <i class="fa fa-user" aria-hidden="true"></i>
                </div>
                <input type="text" class="form-control" id="new-username" placeholder="You new username here" formControlName="newUsername">
                <span class="input-group-addon custom-input-addons" *ngIf="!userChangeUsernameForm.controls.newUsername.errors">
                  <i class="fa fa-check-circle-o input-checkbox" aria-hidden="true"></i>
                </span>
              </div>
              <div class="alert alert-danger" role="alert" *ngIf="userChangeUsernameForm.controls.newUsername.errors && hasTheFormBeenSubmitted">
                <strong>You must enter a username between 4 and 12 characters long</strong>
              </div>
            </div>
            <div class="form-group">
              <label for="newPassword">
                <strong>Please enter your password</strong>
                <i class="fa fa-unlock" aria-hidden="true"></i>
              </label>
              <div class="input-group">
                <div class="input-group-addon input-addon-fa">
                  <i class="fa fa-unlock" aria-hidden="true"></i>
                </div>
                <input type="password" class="form-control" id="password" placeholder="Super Secret" formControlName="password">
                <span class="input-group-addon custom-input-addons" *ngIf="!userChangeUsernameForm.controls.password.errors">
                  <i class="fa fa-check-circle-o input-checkbox" aria-hidden="true"></i>
                </span>
              </div>
              <div class="alert alert-danger" role="alert" *ngIf="userChangeUsernameForm.controls.password.errors && hasTheFormBeenSubmitted">
                <strong>Your password must be atleast 8 characters with one upper case letter, one lower case letter, one number,
                  and one special character</strong>
              </div>
            </div>
            <button *ngIf="!hasSubmitButtonBeenClicked" type="button" class="btn btn-primary pull-left" (click)="toggleSubmitUsernameChange()">Submit New Username</button>
            <i *ngIf="hasSubmitButtonBeenClicked" class="fa fa-spinner fa-pulse fa-3x fa-fw pull-left" aria-hidden="true"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-error-modal [body]="modalBody"></app-error-modal>
